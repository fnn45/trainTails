# TrainTails

- [Задание](#Задание)
- [Описание](#Описание)
- [Запуск](#Запуск)
- [Консольный вывод](#консольный-вывод)

## Задание

Во вложении пример данных.
 В нем TrainLeg - один переезд между 2-мя станциями с ценами, номером поезда, временем отправления / прибытия
  (гарантированно, что нет переездов больше суток). Необходимо получить "лучшие" варианты (несколько, если возможно)
   проезда с пересадками между всеми парами станций. Какие варианты "лучшие" - нужно выбрать какой-то критерий.

## Описание

Логика работы приложения основана на рекурсивном, многопоточном обходе всех вершин графа, основная логика работы которого
размещена в методе `Path` с приемником PathEdge. Основной поток приложения взаимодейсвует с обходом вершин через канал 'worklist'
Но каждая вложеность рекурсии создает свои каналы и передает их детям, если цепочка необойденных вершин продолжается.
Таким образом все полученные результаты передаются вверх по цепочке каналов главному потоку.
Уникальные пары вершин в графе формирует ф-ция `PairsGenerator` из пакета permutations. Таким образом приложение обходит
все возможные варианты вершин графа.

## Запуск

Что бы запустить приложение нужно выполнить команду `go run main.go`(или скомпилировать через `go build` и запустить)
Доступен флаг display:
        - Количество выводимых результатов (по умолчанию 3 лучших по критерию).
        - пример: `go run main.go -display=20`  (будут выведены 20 лучших результатов для каждой пары вершин)
    PS: Я сделал одновременную выборку и вывод сразу по 2 критериям (время проезда к конечному пункту и по цене)


## Консольный вывод

Пример консольного вывода построен по следующей схеме:
    

        ############   StartId: 1921  ####  FinishId: 1981   ###############

        <<< --------- sorted by duration  --------->>>

        duration:  39h21m0s
        TrainId: 1006 (DepId: 1921, ArrId: 1929)
        TrainId: 918 (DepId: 1929, ArrId: 1902)
        TrainId: 919 (DepId: 1902, ArrId: 1981)
        -----------------------------------------------------
        duration:  52h10m0s
        TrainId: 1006 (DepId: 1921, ArrId: 1929)
        TrainId: 918 (DepId: 1929, ArrId: 1902)
        TrainId: 911 (DepId: 1902, ArrId: 1937)
        TrainId: 1312 (DepId: 1937, ArrId: 1981)
        -----------------------------------------------------
        duration:  52h13m0s
        TrainId: 1006 (DepId: 1921, ArrId: 1929)
        TrainId: 918 (DepId: 1929, ArrId: 1902)
        TrainId: 911 (DepId: 1902, ArrId: 1937)
        TrainId: 1155 (DepId: 1937, ArrId: 1981)
        -----------------------------------------------------


        <<< --------- sorted by price  --------->>>

        price:  572.93005
        TrainId: 1006 (DepId: 1921, ArrId: 1929)
        TrainId: 918 (DepId: 1929, ArrId: 1902)
        TrainId: 919 (DepId: 1902, ArrId: 1981)
        -----------------------------------------------------
        price:  774.71
        TrainId: 1006 (DepId: 1921, ArrId: 1929)
        TrainId: 918 (DepId: 1929, ArrId: 1902)
        TrainId: 911 (DepId: 1902, ArrId: 1937)
        TrainId: 1155 (DepId: 1937, ArrId: 1981)
        -----------------------------------------------------
        price:  809.22003
        TrainId: 1006 (DepId: 1921, ArrId: 1929)
        TrainId: 918 (DepId: 1929, ArrId: 1902)
        TrainId: 911 (DepId: 1902, ArrId: 1937)
        TrainId: 1312 (DepId: 1937, ArrId: 1981)
        -----------------------------------------------------


    
Где вверху показаны StartId и FinishId, начальный и конечный пункт соответвенно.
Далее идет указание сортировки( вверху 3 лучших результата по времени и  далее 3 лучших по цене )
Каждый кейс расписан подробнее:
    - Указано конкретное время(duration) или цена(price)
    - Указана цепочка поездов по их TrainId ( с Id станций между которыми они ходят в скобочках )
     для прохода графа от старта до финиша что бы добится данного результата по критерию




